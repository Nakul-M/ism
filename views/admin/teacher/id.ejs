<script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>

<div class="container d-flex justify-content-center align-items-center vh-100">
  <div class="id-card shadow text-center" style="border: 3px solid #0d6efd;">

    <!-- Print Button -->
    <button class="print-btn" onclick="window.print()">Print</button>

    <!-- Header -->
    <div class="id-header" style="background-color: #0d6efd; color: white; padding: 10px 0;">
      <h4 class="mb-0 fw-bold">INTERNATIONAL SCHOOL OF MISSION</h4>
      <small>TEACHER ID CARD</small>
    </div>

    <!-- Teacher Photo -->
    <div class="position-relative">
      <% if (teacher.photo) { %>
        <img src="<%= teacher.photo %>" alt="Teacher Photo" class="id-photo mt-3">
      <% } else { %>
        <img src="https://passport-photo.online/_optimized/prepare2.0498e1e2-opt-1920.WEBP" alt="Teacher Photo" class="id-photo mt-3">
      <% } %>
    </div>

    <!-- Info -->
    <div class="id-body">
      <h5><%= teacher.name %></h5>
      <p><strong>Employee ID:</strong> <%= teacher.employeeId %></p>
      <p><strong>Date of Birth:</strong> <%= teacher.dateOfBirth %></p>
      <p><strong>Email:</strong> <%= teacher.email %></p>
      <p><strong>Contact:</strong> <%= teacher.contact %></p>

      <!-- QR Code -->
      <canvas id="qr" class="qr-code"></canvas>

      <!-- Admin Signature -->
      <div class="signature mt-3">
        <hr style="width: 120px; margin: 5px auto 0;">
        <div>Principal / Admin</div>
      </div>
    </div>

    <!-- Footer -->
    <div class="id-footer" style="background-color: #e9f2ff; color: #0d6efd; padding: 10px 0;">
      Â© <%= new Date().getFullYear() %> ISM | www.ism.edu
    </div>
  </div>
</div>

<!-- Action Buttons -->
<div class="mt-4 text-center">
    <a href="/admin/teachers" class="btn btn-outline-secondary mx-2">Exit</a>
  <a href="/admin/teachers/<%= teacher._id %>/edit" class="btn btn-outline-primary mx-2">Edit</a>

  <form action="/admin/teachers/<%= teacher._id %>?_method=DELETE" method="POST" class="d-inline" onsubmit="return confirm('Are you sure you want to delete this teacher?');">
    <button type="submit" class="btn btn-outline-danger mx-2">Delete</button>
  </form>


</div>
